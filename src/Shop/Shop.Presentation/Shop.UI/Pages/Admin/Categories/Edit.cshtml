@page "{categoryId}"
@model Shop.UI.Pages.Admin.Categories.EditModel
@{
  ViewData["Title"] = "ویرایش دسته‌بندی";
  ViewData["Selected"] = "categories";
}

<form method="post" class="card" data-repeater-container="">
  @Html.HiddenFor(m => m.EditCategoryViewModel.Id)
  <span asp-validation-for="@Model.EditCategoryViewModel.Id"></span>
  @if (Model.EditCategoryViewModel.ParentId != null)
  {
    @Html.HiddenFor(m => m.EditCategoryViewModel.ParentId)
    <span asp-validation-for="@Model.EditCategoryViewModel.ParentId"></span>
  }
  <div class="card-body">
    <div class="row align-items-center">
      <div class="col-md-5">
        @Html.EditorFor(m => m.EditCategoryViewModel.Title)
      </div>
      <div class="col-md-5">
        @Html.EditorFor(m => m.EditCategoryViewModel.Slug)
      </div>
      <div class="col-md-2">
        @Html.EditorFor(m => m.EditCategoryViewModel.ShowInMenu)
      </div>
    </div>
    <div class="form-group">
      <label>@Html.DisplayNameFor(m => m.EditCategoryViewModel.Specifications)</label>
      <div data-repeater-list="">
        @for (var i = 0; i < Model.EditCategoryViewModel.Specifications.Count; i++)
        {
          <div data-repeater-item="">
            <div class="row justify-content-between align-items-center">
              <div class="col-11">
                @Html.EditorFor(m => m.EditCategoryViewModel.Specifications[i])
              </div>
              <div class="col-1">
                <button class="btn-sm badge-pill bg-rgba-danger text-danger border-0" type="button"
                      data-repeater-remove="">
                  <i class="bx bx-trash"></i>
                </button>
              </div>
            </div>
            <hr>
          </div>
        }
      </div>
      <div class="form-group m-0 mb-3">
        <div class="col p-0">
          <button class="btn btn-primary" data-repeater-create="" type="button">
            <i class="bx bx-plus"></i>
            افزودن
          </button>
        </div>
      </div>
    </div>
    <button type="submit" class="btn btn-primary">
      <i class="bx bx-check d-block d-sm-none"></i>
      <span class="d-none d-sm-block">ویرایش</span>
    </button>
    <cancel></cancel>
  </div>
</form>