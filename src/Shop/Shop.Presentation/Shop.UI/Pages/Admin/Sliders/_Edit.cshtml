@using Common.Application.Utility.FileUtility
@model Shop.API.ViewModels.Entities.Slider.EditSliderViewModel
@{
  var guid = Guid.NewGuid();
}

<form method="post" asp-page-handler="EditSlider" enctype="multipart/form-data"
      onsubmit="return submitFormWithAjaxAndReplaceElement(event, '')">
  @Html.HiddenFor(m => m.Id)
  <fieldset class="form-group">
    <label asp-for="@Model.Image"></label>
    <label class="btn-sm badge-pill bg-rgba-info text-info border-0 badge-input mr-0px">
      <input asp-for="@Model.Image" type="file" data-img-preview="@guid" data-replace="" accept="image/*" />
      انتخاب
    </label>
    <div class="img-preview-container" data-val-id="imageVal">
      <i class="bx bx-image-alt"></i>
      <img class="img-preview" data-img-preview="@guid" alt="banner image" data-crop="@guid"
           src="@ServerPaths.GetSliderImagePath(Model.PreviousImageName)" />
    </div>
    <span asp-validation-for="@Model.Image" data-val-for="imageVal"></span>
  </fieldset>
  @Html.EditorFor(m => m.Title)
  @Html.EditorFor(m => m.Link)
  <button type="submit" class="btn btn-success">
    <i class="bx bx-check d-block d-sm-none"></i>
    <span class="d-none d-sm-block">ویرایش</span>
  </button>
  <button type="button" class="btn btn-light-secondary" data-dismiss="modal">
    <i class="bx bx-x d-block d-sm-none"></i>
    <span class="d-none d-sm-block">بستن</span>
  </button>
</form>